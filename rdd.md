# 要件定義書

## 1. システム概要
本システムは、単純にAIと話すだけではなく、ユーザーが自分の好きなキャラクター（VRMモデル）と会話できるチャットアプリケーションです。  
Webアプリおよびスマホ向けに提供され、音声入出力、画像認識（Google Gemini API利用）、およびインタラクティブなVRMモデル（表情やジェスチャーのリアルタイムアニメーション）を搭載します。

## 2. 対象プラットフォーム
- **Webアプリ**（Netlifyでのデプロイを想定）
- **スマホアプリ**（iOS/Android対応）
- ※ VRデバイスは対象外

## 3. 機能要件

### 3.1 VRMモデルの機能
- **インタラクティブ性**  
  - 会話内容に応じて、表情やジェスチャーのアニメーションをリアルタイムに変化させる
- **キャラクター選択機能**  
  - ユーザーが自分の好きなキャラクター（VRMモデル）を選択またはカスタマイズできる

### 3.2 チャット機能
- **テキストチャット**  
  - ユーザー間またはユーザーとAI間でのテキストメッセージの送受信
- **音声チャット**  
  - 音声入力および音声出力に対応
- **画像認識**  
  - Google Gemini APIを利用し、アップロードされた画像の認識と解析を実施

### 3.3 ユーザー管理
- **ログイン認証**  
  - ユーザー登録、ログイン、パスワードリセット機能（Supabaseを活用）
- **プロフィール管理**  
  - ユーザー情報の登録・編集、お気に入りキャラクターの選択・変更

### 3.4 チャット履歴
- ユーザーごとのチャット履歴を保存し、後から確認可能にする

### 3.5 通知機能
- 新規メッセージやシステム通知のプッシュ通知（Web/スマホ双方対応）

## 4. 非機能要件
- **パフォーマンス**  
  - 低遅延のリアルタイムチャットとVRMモデルの動的表示
- **セキュリティ**  
  - ユーザー認証、データの暗号化、プライバシー保護
- **拡張性**  
  - 将来的な機能追加やプラットフォーム拡張に対応できる設計
- **レスポンシブデザイン**  
  - Webアプリとスマホアプリで最適な表示と操作性を実現

## 5. 技術スタック・API
- **プログラミング言語・フレームワーク**  
  - **TypeScript**を基本とし、ReactやNext.jsなどのモダンなフロントエンドフレームワークを想定
- **バックエンド**  
  - **Supabase**を利用（認証、データベース管理、リアルタイム機能など）
- **デプロイ**  
  - Webアプリは**Netlify**でデプロイ
- **外部API**  
  - Google Gemini API（画像認識）  
  - 音声認識/出力API（具体的なサービスは後日検討）
- **VRMモデル表示**  
  - UnityやWebGLベースの3Dライブラリなどで実装

## 6. UI/UX設計の方針
- シンプルかつ直感的なデザイン
- ユーザーが簡単にお気に入りのキャラクターを選び、会話に没入できるインターフェース
- Webとスマホ双方で快適に操作できるレスポンシブデザイン

## 7. 今後の展望
- キャラクターのカスタマイズや追加（例：新たなVRMモデルの導入）
- 高度な感情認識やアニメーション制御による、よりパーソナライズされた体験の実現
- 新しいプラットフォームや追加機能への展開